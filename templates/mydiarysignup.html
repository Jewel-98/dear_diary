<!DOCTYPE html>
<html lang="en">
<head>                                                    <!--header tag -->
  <title>Signup page</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Niconne" rel="stylesheet">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script type = "text/javascript"
        src = "{{url_for('static',filename='password.js')}}" ></script>
  <script>
  function validate(){
    var x = document.forms["signform"]["email"].value;
    var atpos = x.indexOf("@");
    var dotpos = x.lastIndexOf(".");
    if(atpos <1 || dotpos<atpos+2 || dotpos+4!=x.length){
      alert("Invalid email");
      document.getElementById('signform').method="GET";
    }
    else{
      document.getElementById('signform').method="POST";
    }

  }
  </script>


   <style>
   .centered{
    position: absolute;
    top:20%;
    left: 40%;
    transform: translate(-50%, -50%);
    padding-top: 150px;
    width: 50%;
    margin-left: 10%;
    margin-top: 8%;

   }
   body,html{ height:100%;
    width:100%;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    background-image: url('https://images.designtrends.com/wp-content/uploads/2015/11/06163551/Brown-Backgrounds3.jpg');
  }
  h1{
    font-family: 'Niconne', cursive;
    font-size:80px;
    color:#1a0d00;
  }
  label{
    font-family: 'Niconne', cursive;
    font-size:30px;
    color:#1a0d00;
  }

  #msg{
       text-align: center;
       font-size: 20px;
       padding: 0px;
     }
  .alert{
       height: @alert-box;
       margin: 20px 0px;
       display: inline-grid;
     }




  </style>
  </head>
  <body>

        {% with messages=get_flashed_messages() %}
        {% if messages %}
        <div class="container col-sm-offset-4 col-sm-4">
         <div class="alert alert-danger">
         {% for message in messages %}
          <p id="msg"><strong>{{ message }}</strong></p>
         {% endfor %}
        {% endif %}
       {% endwith %}
         </div>
       </div>


<div class="container">

  <div class = 'centered'>
    <h1>Sign Up To Your DearDiary!!!</h1><br><br>
  <form id="signform" name = "signform" action="/signup" class="form-horizontal" onsubmit = "validate()" >

    <div class="form-group">
      <label class="control-label col-sm-4" for="nm">Name:</label>
      <div class="col-sm-5">
        <input type="text" class="form-control" id="nm"  name="nm">
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-4" for="email">Email:</label>
      <div class="col-sm-5">
        <input type="email" class="form-control" id="email"  name="email" required>

      </div>
    </div>





    <div class="form-group">
      <label class="control-label col-sm-4" for="pass">Password:  </label>
      <div class="col-sm-5">
        <input type="password" class="form-control" id="pass"  name="pass" required>
      </div>
    </div>

     <div class="form-group">
      <label class="control-label col-sm-4" for="pass">Confirm Password:  </label>
      <div class="col-sm-5">
        <input type="password" class="form-control" id="confpass"  name="confpass" onkeyup="check()" required>
      </div>

    <div id="passmsg"class="col-lg-5">
    <h4><strong><span id='message'></span></strong></h4>
    </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-5 col-sm-15">
        <button type="submit"  class="btn btn-success btn-lg" id="submit">Sign Up</button>
      </div>
    </div>
  </form></div>
</div>

</body>
</html>
